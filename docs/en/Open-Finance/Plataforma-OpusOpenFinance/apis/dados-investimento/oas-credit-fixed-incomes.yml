openapi: 3.0.0
info:
  title: API Credit Fixed Incomes - Integration Layer - OPUS Open Finance Brasil
  description: |
    Open Finance Brasil Credit Fixed Income Operations API - Phase 4.
    API that returns investment operation information of the Credit Fixed Income type (Debentures, CRI/CRA)
    maintained by transmitting institutions for their clients, including data such as product name,
    profitability, quantity, terms, balances in customer position and financial transactions.
    There is no segregation between natural and legal persons. Exposure will be given for each fixed income operation
    contracted by the client.
  version: 2.0.0-base1.0.3
  license:
    name: Apache 2.0
    url: 'https://www.apache.org/licenses/LICENSE-2.0'
tags:
  - name: Product List
    description: Obtains the list of Credit Fixed Income operations held by the customer at the transmitting institution and for which they have given consent.
  - name: Product Identification
    description: Obtains the data of the Credit Fixed Income operation identified by investmentId.
  - name: Balances
    description: Obtains the position of the Credit Fixed Income operation identified by investmentId.
  - name: Transactions
    description: Obtains the historical transactions (last 12 months) of the Credit Fixed Income operation identified by investmentId.
  - name: Transactions Current
    description: 'Obtains recent transactions of the Credit Fixed Income operation identified by investmentId. The period to be considered for presenting transactions will be up to 7 days - 7 days prior to the consultation, including the day of consultation (D-6).'
paths:
  /investments:
    post:
      tags:
        - Product List
      summary: Obtains the list of Credit Fixed Income operations held by the customer at the transmitting institution and for which they have given consent.
      operationId: creditFixedIncomesGetInvestments
      description: Obtains the list of Credit Fixed Income operations held by the customer at the transmitting institution and for which they have given consent.        -
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndPagination'
      responses:
        '200':
          $ref: '#/components/responses/ResponseCreditFixedIncomesProductList'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '500':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'
        '504':
          $ref: '#/components/responses/GatewayTimeoutWithAdditionalProperties'
        '529':
          $ref: '#/components/responses/SiteIsOverloadedWithAdditionalProperties'
        default:
          $ref: '#/components/responses/DefaultWithAdditionalProperties'
  /find:
    post:
      tags:
        - Product Identification
      summary: Obtains the data of the Credit Fixed Income operation identified by investmentId.
      operationId: creditFixedIncomesGetInvestmentsInvestmentId
      description: Obtains the data of the Credit Fixed Income operation identified by investmentId.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndInvestmentId'
      responses:
        '200':
          $ref: '#/components/responses/ResponseCreditFixedIncomesProductIdentification'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '500':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'
        '504':
          $ref: '#/components/responses/GatewayTimeoutWithAdditionalProperties'
        '529':
          $ref: '#/components/responses/SiteIsOverloadedWithAdditionalProperties'
        default:
          $ref: '#/components/responses/DefaultWithAdditionalProperties'
  /balances:
    post:
      tags:
        - Balances
      summary: Obtains the position of the Credit Fixed Income operation identified by investmentId.
      operationId: creditFixedIncomesGetInvestmentsInvestmentIdBalances
      description: |
        Obtains the position of the Credit Fixed Income operation identified by investmentId.

        In cases where there is no position for the investment, that is, the quantity of assets and monetary values are zeroed, but it is still within the exposure period (up to 12 months after the last transaction), status code 200 must be returned and for the return payload consider the values below. Non-mandatory fields should not be returned:

        - Monetary values: 0.00
        - Quantity of assets: 0.00
        - Date and time of the last position: same content as the requestDateTime field
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestWithConsentAndRequestMetaAndInvestmentId'
      responses:
        '200':
          $ref: '#/components/responses/ResponseCreditFixedIncomesBalances'
        '400':
          $ref: '#/components/responses/BadRequestWithAdditionalProperties'
        '401':
          $ref: '#/components/responses/UnauthorizedWithAdditionalProperties'
        '403':
          $ref: '#/components/responses/ForbiddenWithAdditionalProperties'
        '404':
          $ref: '#/components/responses/NotFoundWithAdditionalProperties'
        '405':
          $ref: '#/components/responses/MethodNotAllowedWithAdditionalProperties'
        '406':
          $ref: '#/components/responses/NotAcceptableWithAdditionalProperties'
        '422':
          $ref: '#/components/responses/UnprocessableEntityWithAdditionalProperties'
        '423':
          $ref: '#/components/responses/LockedWithAdditionalProperties'
        '429':
          $ref: '#/components/responses/TooManyRequestsWithAdditionalProperties'
        '500':
          $ref: '#/components/responses/InternalServerErrorWithAdditionalProperties'
        '504':
          $ref: '#/components/responses/GatewayTimeoutWithAdditionalProperties'
        '529':
          $ref: '#/components/responses/SiteIsOverloadedWithAdditionalProperties'
        default:
          $ref: '#/components/responses/DefaultWithAdditionalProperties'
  /transactions:
    post:
      tags:
        - Transactions
      summary: Obtains the historical transactions (last 12 months) of the Credit Fixed Income operation identified by investmentId.
      operationId: creditFixedIncomesGetInvestmentsInvestmentIdTransactions
      description: Obtains the historical transactions (last 12 months) of the Credit Fixed Income operation identified by investmentId.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestTransactions'
      responses:
        '200':
          $ref: '#/components/responses/ResponseCreditFixedIncomesTransactions'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
  /transactions-current:
    post:
      tags:
        - Transactions Current
      summary: 'Obtains recent transactions of the Credit Fixed Income operation identified by investmentId. The period to be considered for presenting transactions will be up to 7 days - 7 days prior to the consultation, including the day of consultation (D-6).'
      operationId: creditFixedIncomesGetInvestmentsInvestmentIdTransactionsCurrent
      description: 'Obtains recent transactions of the Credit Fixed Income operation identified by investmentId. The period to be considered for presenting transactions will be up to 7 days - 7 days prior to the consultation, including the day of consultation (D-6).'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/RequestTransactionsCurrent'
      responses:
        '200':
          $ref: '#/components/responses/ResponseCreditFixedIncomesTransactionsCurrent'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '403':
          $ref: '#/components/responses/Forbidden'
        '404':
          $ref: '#/components/responses/NotFound'
        '405':
          $ref: '#/components/responses/MethodNotAllowed'
        '406':
          $ref: '#/components/responses/NotAcceptable'
        '422':
          $ref: '#/components/responses/UnprocessableEntity'
        '423':
          $ref: '#/components/responses/Locked'
        '429':
          $ref: '#/components/responses/TooManyRequests'
        '500':
          $ref: '#/components/responses/InternalServerError'
        '504':
          $ref: '#/components/responses/GatewayTimeout'
        '529':
          $ref: '#/components/responses/SiteIsOverloaded'
        default:
          $ref: '#/components/responses/Default'
components:
  schemas:
    ResponseCreditFixedIncomesProductList:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: array
          minItems: 0
          items:
            $ref: '#/components/schemas/CreditFixedList'
        meta:
          $ref: '#/components/schemas/CreditFixedIncomesMeta'
    ResponseCreditFixedIncomesProductIdentification:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          $ref: '#/components/schemas/CreditFixedIdentification'
        meta:
          $ref: '#/components/schemas/CreditFixedIncomesMeta'
    ResponseCreditFixedIncomesBalances:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: object
          required:
            - referenceDateTime
            - updatedUnitPrice
            - quantity
            - grossAmount
            - netAmount
            - incomeTax
            - financialTransactionTax
            - blockedBalance
            - purchaseUnitPrice
          properties:
            referenceDateTime:
              $ref: '#/components/schemas/ReferenceDateTime'
            updatedUnitPrice:
              $ref: '#/components/schemas/UpdatedUnitPrice'
            quantity:
              type: string
              format: double
              description: quantity of securities held on the customer's position date
              maxLength: 24
              minLength: 4
              pattern: '^\d{1,15}\.\d{2,8}$'
              example: '15.00' # '15.00'
            grossAmount:
              $ref: '#/components/schemas/GrossAmount'
            netAmount:
              $ref: '#/components/schemas/NetAmount'
            incomeTax:
              $ref: '#/components/schemas/IncomeTax'
            financialTransactionTax:
              $ref: '#/components/schemas/FinancialTransactionTax'
            blockedBalance:
              $ref: '#/components/schemas/BlockedBalance'
            purchaseUnitPrice:
              $ref: '#/components/schemas/PurchaseUnitPrice'
            preFixedRate:
              type: string
              description: |
                Remuneration rate agreed with the customer at the time of contracting. In cases of progressive products, consider the maximum contracted rate.
                It is expected that the filling of this field by the participants will be sent as agreed at the time of contracting.
              maxLength: 8
              minLength: 8
              pattern: '^\d{1}\.\d{6}$'
              example: '0.300000'
            postFixedIndexerPercentage:
              $ref: '#/components/schemas/PostFixedIndexerPercentage'
            fine:
              $ref: '#/components/schemas/Fine'
            latePayment:
              $ref: '#/components/schemas/LatePayment'
        meta:
          $ref: '#/components/schemas/CreditFixedIncomesMeta'
    ResponseCreditFixedIncomesTransactions:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: array
          minItems: 0
          items:
            $ref: '#/components/schemas/CreditFixedIncomesTransactions'
        meta:
          $ref: '#/components/schemas/CreditFixedIncomesMetaTransactions'
    ResponseCreditFixedIncomesTransactionsCurrent:
      type: object
      required:
        - data
        - meta
      properties:
        data:
          type: array
          minItems: 0
          items:
            type: object
            required:
              - type
              - transactionType
              - transactionDate
              - transactionGrossValue
              - transactionNetValue
              - transactionId
            properties:
              type:
                $ref: '#/components/schemas/Type'
              transactionType:
                $ref: '#/components/schemas/TransactionType'
              transactionTypeAdditionalInfo:
                type: string
                description: |
                  Additional information of the transaction type, to be filled in the case of transactions not delimited in the domain.

                  [Restriction] Mandatory field to be filled in by participants when there is 'OUTROS' (OTHERS) in the 'transactionType' field.
                maxLength: 100
                pattern: '[\w\W\s]*'
              transactionDate:
                type: string
                format: date
                description: Transaction date
                maxLength: 10
                pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
                example: '2018-02-15'
              transactionUnitPrice:
                type: object
                description: |
                  unit value negotiated with the customer on the acquisition date

                  [Restriction] Mandatory field to be filled in by participants when the 'transactionType' field is filled with the values
                                'COMPRA' (Purchase), 'VENDA' (Sale) or 'VENCIMENTO' (Maturity).
                required:
                  - amount
                  - currency
                properties:
                  amount:
                    type: string
                    format: double
                    pattern: '^\d{1,15}\.\d{2,8}$'
                    maxLength: 24
                    minLength: 4
                    example: '1000.000004'
                    description: Related amount.
                  currency:
                    $ref: '#/components/schemas/Currency'
              transactionQuantity:
                type: string
                description: |
                  Quantity of securities involved in the transaction

                  [Restriction] Mandatory field to be filled in by participants when the 'transactionType' field is filled with the values
                                'COMPRA' (Purchase), 'VENDA'(Sale), 'VENCIMENTO' (Maturity), 'TRANSFERENCIA_TITULARIDADE' (Ownership Transfer) or
                                'TRANSFERENCIA_CUSTODIA' (Custody Transfer).
                maxLength: 24
                pattern: '^\d{1,15}\.\d{2,8}$'
                example: '42.25'
              transactionGrossValue:
                $ref: '#/components/schemas/TransactionGrossValue'
              incomeTax:
                type: object
                description: |
                  Value of income tax collected in the transaction.

                  [Restriction] Mandatory field to be filled in by participants when the 'type' field is filled with the value 'SAIDA' (Exit).
                required:
                  - amount
                  - currency
                properties:
                  amount:
                    type: string
                    format: double
                    pattern: '^\d{1,15}\.\d{2,4}$'
                    maxLength: 20
                    minLength: 4
                    example: '1000.04'
                    description: Related amount.
                  currency:
                    $ref: '#/components/schemas/Currency'
              financialTransactionTax:
                type: object
                description: |
                  IOF value collected in the transaction.

                  [Restriction] Mandatory field to be filled in by participants when the 'type' field is filled with the value 'SAIDA' (Exit).
                required:
                  - amount
                  - currency
                properties:
                  amount:
                    type: string
                    format: double
                    pattern: '^\d{1,15}\.\d{2,4}$'
                    maxLength: 20
                    minLength: 4
                    example: '1000.04'
                    description: Related amount.
                  currency:
                    $ref: '#/components/schemas/Currency'
              transactionNetValue:
                $ref: '#/components/schemas/TransactionNetValue'
              remunerationTransactionRate:
                $ref: '#/components/schemas/RemunerationTransactionRate'
              indexerPercentage:
                type: string
                description: |
                  Maximum percentage of the indexer in the transaction agreed with the customer at the time of contracting.

                  [Restriction] Mandatory field to be filled in by participants when the 'type' field is filled with the value
                                'ENTRADA' (Entry) and it is a post-fixed or hybrid product.
                maxLength: 8
                minLength: 8
                pattern: '^\d{1}\.\d{6}$'
                example: '1.100000'
              transactionId:
                $ref: '#/components/schemas/LegacyId'
        meta:
          $ref: '#/components/schemas/CreditFixedIncomesMetaTransactions'
    BlockedBalance:
      type: object
      description: Amount not available for movement at that moment for any reason (judicial block, guarantee block, among others). Grace period is not considered as a block.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.04'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    CreditFixedIdentification:
      type: object
      required:
        - investmentType
        - remuneration
        - issueUnitPrice
        - issueDate
        - dueDate
        - voucherPaymentIndicator
        - purchaseDate
        - taxExemptProduct
      properties:
        issuerInstitutionCnpjNumber:
          type: string
          description: |
            Issuer institution CNPJ number.

            If the institution has the information, sending it is mandatory.
          maxLength: 14
          pattern: '^\d{14}$'
          example: '11225860000140'
        isinCode:
          type: string
          description: |
            ISIN code is a universal code that identifies each security or financial instrument, according to ISO 6166 Standard. If the transmitter has the information, sending this field is mandatory.

            [Restriction] Must be filled in cases where 'clearingCode' is not filled.
          maxLength: 12
          pattern: '^[A-Z]{2}([A-Z0-9]){9}\d{1}$'
          example: BRCST4CTF001
        investmentType:
          $ref: '#/components/schemas/EnumInvestimentType'
        debtorCnpjNumber:
          type: string
          description: |
            Debtor CNPJ number. If the transmitter has the information for CRI and CRA products, sending this field is mandatory.
          maxLength: 14
          pattern: '^\d{14}$'
          example: '11225860000140'
        debtorName:
          type: string
          description: |
            Debtor name. If the transmitter has the information for CRI and CRA products, sending this field is mandatory.
          pattern: '[\w\W\s]*'
          maxLength: 70
          example: Roberto Marino
        taxExemptProduct:
          $ref: '#/components/schemas/EnumTaxExemptProduct'
        remuneration:
          $ref: '#/components/schemas/Remuneration'
        issueUnitPrice:
          $ref: '#/components/schemas/IssueUnitPrice'
        issueDate:
          type: string
          format: date
          description: Title issue date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-02-16'
        dueDate:
          type: string
          format: date
          description: Title due date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-02-15'
        voucherPaymentIndicator:
          $ref: '#/components/schemas/VoucherPaymentIndicator'
        voucherPaymentPeriodicity:
          $ref: '#/components/schemas/VoucherPaymentPeriodicity'
        voucherPaymentPeriodicityAdditionalInfo:
          type: string
          description: |
            Additional information on coupon payment periodicity
            [Restriction] Mandatory field to be filled in by participants when there is 'Outros' in the 'voucherPaymentPeriodicity' field.
          maxLength: 50
          pattern: '[\w\W\s]*'
          example: Diária # Daily
        clearingCode:
          type: string
          description: |
            Asset registration code at the Clearing House. If the transmitter has the information, sending this field is mandatory.

            [Restriction] Must be filled in cases where 'isinCode' is not filled.
          maxLength: 30
          pattern: '[\w\W-]*'
          example: CDB421GPXXX
        purchaseDate:
          type: string
          format: date
          description: Customer purchase date
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-02-15'
        gracePeriodDate:
          type: string
          format: date
          description: |
            Date until which the customer cannot redeem their investment early.

            If the institution has the information, sending it is mandatory.
          maxLength: 10
          pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
          example: '2018-02-16'
    CreditFixedIncomesMeta:
      type: object
      description: Meta information regarding the requested API.
      required:
        - totalRecords
        - totalPages
        - requestDateTime
      properties:
        totalRecords:
          type: integer
          format: int32
          description: Total number of records in the result
          example: 1
        totalPages:
          type: integer
          format: int32
          description: Total number of pages in the result
          example: 1
        requestDateTime:
          description: 'Date and time of consultation, according to RFC-3339 specification, UTC format.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
    CreditFixedIncomesMetaTransactions:
      type: object
      description: Meta information regarding the requested API.
      required:
        - requestDateTime
        - hasMoreRecords
      properties:
        requestDateTime:
          description: 'Date and time of consultation, according to RFC-3339 specification, UTC format.'
          type: string
          maxLength: 20
          format: date-time
          example: '2021-05-21T08:30:00Z'
        hasMoreRecords:
          type: boolean
          description: Indicates whether there are more records to be returned (true) or not (false).
          example: true
    CreditFixedList:
      type: object
      description: List of credit fixed income securities held by the customer at the transmitting institution and for which they have given consent
      required:
        - brandName
        - companyCnpj
        - investmentType
        - investmentId
      properties:
        brandName:
          type: string
          description: 'Brand Name reported by the participant in Open Finance. It is recommended to use, whenever possible, the same brand name attributed in the Customer Friendly Server Name (Authorization Server) directory field.'
          pattern: '[\w\W\s]*'
          maxLength: 80
          example: Organização A # Organization A
        companyCnpj:
          type: string
          description: 'Full CNPJ number of the institution responsible for Registration - the CNPJ corresponds to the registration number in the National Registry of Legal Entities. Only the CNPJ numbers should be included, without mask'
          maxLength: 14
          pattern: '^\d{14}$'
          example: '21128159000166'
        investmentType:
          $ref: '#/components/schemas/EnumInvestimentType'
        investmentId:
          $ref: '#/components/schemas/LegacyId'
    Currency:
      type: string
      description: 'Currency referring to the monetary value, following the ISO-4217 model.'
      maxLength: 3
      pattern: '^[A-Z]{3}$'
      example: BRL
    EnumCalculation:
      type: string
      description: |
        Calculation basis (business days or calendar days).
          1. business days
          2. calendar days.

        If the institution has the information, sending it is mandatory.
      enum:
        - DIAS_UTEIS # business_days
        - DIAS_CORRIDOS # calendar_days
      example: DIAS_CORRIDOS # calendar_days
    EnumTaxExemptProduct:
      type: string
      description: Tax-exempt product indicator
      enum:
        - SIM # YES
        - NAO # NO
      example: SIM # YES
    EnumIndexer:
      type: string
      description: |
        Index used as a reference for correcting the profitability and/or returns of the asset
         1. CDI        # Interbank Deposit Certificate rate, a benchmark for fixed income
         2. DI         # Interbank Deposit rate, similar to CDI
         3. TR         # Reference Rate, a basic interest rate, historically for savings
         4. IPCA       # Broad National Consumer Price Index, Brazil's official inflation
         5. IGP_M      # General Market Price Index, an inflation index for contracts
         6. IGP_DI     # General Price Index - Internal Availability, similar to IGP-M
         7. INPC       # National Consumer Price Index, inflation for low-income families
         8. BCP        # Central Bank Bond rate, related to government bond yields
         9. TLC        # Short-Term Lending Rate, may vary between institutions
        10. SELIC      # Special System for Settlement and Custody rate, Brazil's base rate
        11. PRE_FIXADO # FIXED_RATE
        12. OUTROS     # OTHERS
      enum:
        - CDI
        - DI
        - TR
        - IPCA
        - IGP_M
        - IGP_DI
        - INPC
        - BCP
        - TLC
        - SELIC
        - PRE_FIXADO # PRE_FIXED
        - OUTROS # OTHERS
      example: CDI
    EnumInvestimentType:
      type: string
      description: 'Specification of the asset in question (Debentures, CRI or CRA).'
      enum:
        - DEBENTURES
        - CRI         # Real Estate Receivables Certificates
        - CRA         # Agribusiness Receivables Certificates
      example: CRI
    EnumRatePeriodicity:
      type: string
      description: |
        Remuneration rate periodicity (monthly, annual, daily, semi-annual).

        If the institution has the information, sending it is mandatory.
      enum:
        - MENSAL # MONTHLY
        - ANUAL # ANNUAL
        - DIARIO # DAILY
        - SEMESTRAL # SEMIANNUAL
      example: MENSAL # MONTHLY
    EnumRateType:
      type: string
      description: |
        Remuneration rate type
          1. LINEAR
          2. EXPONENTIAL

        If the institution has the information, sending it is mandatory.
      enum:
        - LINEAR
        - EXPONENCIAL # EXPONENTIAL
      example: LINEAR
    FinancialTransactionTax:
      type: object
      description: |
        Tax amount (IOF) provisioned considering the current rate on the reference date.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.04'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    Fine:
      type: object
      description: |
        Fine amount due to late payment agreed in contract.
        If the transmitter has the information, sending this field is mandatory.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.04'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    GrossAmount:
      type: object
      description: investment amount that refers to quantity x updated PU on the reference date
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.04'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    IncomeTax:
      type: object
      description: |
        Income tax amount provisioned considering the current rate on the reference date.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.04'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    IndexerPercentage:
      type: string
      description: |
        Maximum percentage of the indexer in the transaction agreed with the customer at the time of contracting.

        [Restriction] Mandatory field to be filled in by participants when the 'type' field is filled with the value 'ENTRADA' and it is a post-fixed or hybrid product.
      maxLength: 8
      minLength: 8
      pattern: '^\d{1}\.\d{6}$'
      example: '1.100000'
    IssueUnitPrice:
      type: object
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          description: Related amount.
          maxLength: 24
          pattern: '^\d{1,15}\.\d{2,8}$'
          example: '1000.000004'
        currency:
          type: string
          description: 'Currency referring to the monetary value, following the ISO-4217 model.'
          maxLength: 3
          pattern: '^[A-Z]{3}$'
          example: BRL
    LatePayment:
      type: object
      description: |
        Late payment interest amount due to late payment agreed in contract.
        If the transmitter has the information, sending this field is mandatory.
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.04'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    NetAmount:
      type: object
      description: 'investment amount updated on the reference date, after deduction of taxes (IOF and IR)'
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.04'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    PostFixedIndexerPercentage:
      type: string
      description: |
        Indexer percentage agreed with the customer at the time of contracting. In cases of progressive products, consider the maximum contracted rate.
        It is expected that the filling of this field by the participants will be sent as agreed at the time of contracting.
      maxLength: 8
      minLength: 8
      pattern: '^\d{1}\.\d{6}$'
      example: '1.100000'
    PurchaseUnitPrice:
      type: object
      description: unit value negotiated with the customer on the acquisition date
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,8}$'
          maxLength: 24
          minLength: 4
          example: '1000.000004'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    ReferenceDateTime:
      type: string
      format: date-time
      description: 'date and time of the last consolidated position available to which the client''s transactional data available in electronic channels refers; In the date representation, minutes and seconds must be considered as zero (00:00:00Z)'
      maxLength: 20
      pattern: '(^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$)'
      example: '2022-07-21T17:32:00Z'
    Remuneration:
      type: object
      required:
        - indexer
      properties:
        preFixedRate:
          type: string
          description: |
            Contract issuance rate value.

            [Restriction] Mandatory field to be filled in by participants when there is 'PRE_FIXADO' in the 'indexer' field or when it is a product with hybrid remuneration.
          maxLength: 8
          pattern: '^\d{1}\.\d{6}$'
          example: '0.300000'
        postFixedIndexerPercentage:
          type: string
          description: |
            Indexer percentage of contract issuance.

            [Restriction] Mandatory field to be filled in by participants when the 'indexer' field is filled in differently from 'PRE_FIXADO' or when it is a product with hybrid remuneration.
          maxLength: 8
          pattern: '^\d{1}\.\d{6}$'
          example: '1.100000'
        rateType:
          $ref: '#/components/schemas/EnumRateType'
        ratePeriodicity:
          $ref: '#/components/schemas/EnumRatePeriodicity'
        calculation:
          $ref: '#/components/schemas/EnumCalculation'
        indexer:
          $ref: '#/components/schemas/EnumIndexer'
        indexerAdditionalInfo:
          type: string
          description: |
            Additional indexer information
            [Restriction] Mandatory field to be filled in by participants when there is 'Outros' in the 'indexer' field.
          pattern: '[\w\W\s]*'
          maxLength: 50
          example: Dólar # Dollar
    CreditFixedIncomesTransactions:
      type: object
      required:
        - type
        - transactionType
        - transactionDate
        - transactionGrossValue
        - transactionNetValue
        - transactionId
      properties:
        type:
          $ref: '#/components/schemas/Type'
        transactionType:
          $ref: '#/components/schemas/TransactionType'
        transactionTypeAdditionalInfo:
          $ref: '#/components/schemas/TypeAdditionalInfo'
        transactionDate:
          $ref: '#/components/schemas/TransactionDate'
        transactionUnitPrice:
          type: object
          description: |
            unit value negotiated with the customer on the acquisition date

            [Restriction] Mandatory field to be filled in by participants when the 'transactionType' field is filled with the values 'COMPRA', 'VENDA' or 'VENCIMENTO'.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              pattern: '^\d{1,15}\.\d{2,8}$'
              maxLength: 24
              minLength: 4
              example: '1000.000004'
              description: Related amount.
            currency:
              $ref: '#/components/schemas/Currency'
        transactionQuantity:
          $ref: '#/components/schemas/TransactionQuantity'
        transactionGrossValue:
          $ref: '#/components/schemas/TransactionGrossValue'
        incomeTax:
          type: object
          description: |
            Value of income tax collected in the transaction.

            [Restriction] Mandatory field to be filled in by participants when the 'type' field is filled with the value 'SAIDA'.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              pattern: '^\d{1,15}\.\d{2,4}$'
              maxLength: 20
              minLength: 4
              example: '1000.04'
              description: Related amount.
            currency:
              $ref: '#/components/schemas/Currency'
        financialTransactionTax:
          type: object
          description: |
            IOF value collected in the transaction.

            [Restriction] Mandatory field to be filled in by participants when the 'type' field is filled with the value 'SAIDA'.
          required:
            - amount
            - currency
          properties:
            amount:
              type: string
              format: double
              pattern: '^\d{1,15}\.\d{2,4}$'
              maxLength: 20
              minLength: 4
              example: '1000.04'
              description: Related amount.
            currency:
              $ref: '#/components/schemas/Currency'
        transactionNetValue:
          $ref: '#/components/schemas/TransactionNetValue'
        remunerationTransactionRate:
          $ref: '#/components/schemas/RemunerationTransactionRate'
        indexerPercentage:
          $ref: '#/components/schemas/IndexerPercentage'
        transactionId:
          $ref: '#/components/schemas/LegacyId'
    RemunerationTransactionRate:
      type: string
      description: |
        Remuneration rate agreed with the customer at the time of contracting.

        [Restriction] Mandatory field to be filled in by participants when the 'type' field is filled with the value 'ENTRADA' and it is a prefixed or hybrid product.
      maxLength: 8
      minLength: 8
      pattern: '^\d{1}\.\d{6}$'
      example: '0.300000'
    TransactionDate:
      type: string
      format: date
      description: Transaction date
      maxLength: 10
      pattern: '^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])$'
      example: '2018-02-15'
    TransactionGrossValue:
      type: object
      description: 'Gross transaction value (Transaction unit price x Quantity)'
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.04'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    TransactionNetValue:
      type: object
      description: Net transaction value
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,4}$'
          maxLength: 20
          minLength: 4
          example: '1000.04'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    TransactionQuantity:
      type: string
      description: |
        Quantity of securities involved in the transaction

        [Restriction] Mandatory field to be filled in by participants when the 'transactionType' field is filled with the values 'COMPRA', 'VENDA', 'VENCIMENTO', 'TRANSFERENCIA_TITULARIDADE' or 'TRANSFERENCIA_CUSTODIA'.
      maxLength: 24
      pattern: '^\d{1,15}\.\d{2,8}$'
      example: '42.25'
    TransactionType:
      type: string
      description: Purchase, sale, cancellation, maturity, interest payment, amortization, premium, ownership transfer, custody transfer, fine, late payment and others. For transfer movements (ownership or custody), the unit price (transactionUnitPrice) of the title acquisition must be considered.
      enum:
        - COMPRA # PURCHASE
        - VENDA # SALE
        - CANCELAMENTO # CANCELLATION
        - VENCIMENTO # MATURITY
        - PAGAMENTO_JUROS # INTEREST_PAYMENT
        - AMORTIZACAO # AMORTIZATION
        - PREMIO # PREMIUM
        - TRANSFERENCIA_TITULARIDADE # OWNERSHIP_TRANSFER
        - TRANSFERENCIA_CUSTODIA # CUSTODY_TRANSFER
        - MULTA # FINE
        - MORA # LATE_PAYMENT
        - OUTROS # OTHERS
      example: COMPRA # PURCHASE
    Type:
      type: string
      description: |
        Type of transaction in the investment view:

        ENTRADA: COMPRA, CANCELAMENTO, TRANSFERENCIA_TITULARIDADE, TRANSFERENCIA_CUSTODIA, OUTROS.
        # ENTRY: PURCHASE, CANCELLATION, OWNERSHIP_TRANSFER, CUSTODY_TRANSFER, OTHERS.

        SAIDA: VENDA, CANCELAMENTO, VENCIMENTO, PAGAMENTO_JUROS, AMORTIZACAO, PREMIO, TRANSFERENCIA_TITULARIDADE, TRANSFERENCIA_CUSTODIA, MULTA, MORA, OUTROS.
        # Exit: SALE, CANCELLATION, MATURITY, INTEREST_PAYMENT, AMORTIZATION, PREMIUM, OWNERSHIP_TRANSFER, CUSTODY_TRANSFER, FINE, LATE_PAYMENT, OTHERS.

        For example, for CANCELLATION transaction, typically, the type will be the opposite of the originating event. That is, for cancellation of PURCHASE, consider type Exit; for cancellation of SALE, consider type ENTRY.
      enum:
        - ENTRADA # ENTRY
        - SAIDA   # EXIT
      example: ENTRADA # ENTRY
    TypeAdditionalInfo:
      type: string
      description: |
        Additional information of the transaction type, to be filled in the case of transactions not delimited in the domain

        [Restriction] Mandatory field to be filled in by participants when there is 'OUTROS' (Others) in the 'transactionType' field.
      maxLength: 100
      pattern: '[\w\W\s]*'
    UpdatedUnitPrice:
      type: object
      description: gross unit value updated on the reference date;
      required:
        - amount
        - currency
      properties:
        amount:
          type: string
          format: double
          pattern: '^\d{1,15}\.\d{2,8}$'
          maxLength: 24
          minLength: 4
          example: '1000.0400'
          description: Related amount.
        currency:
          $ref: '#/components/schemas/Currency'
    VoucherPaymentIndicator:
      type: string
      description: |
        Indication if there is coupon payment
          1. Yes
          2. No
      enum:
        - SIM # YES
        - NAO # NO
      example: SIM # YES
    VoucherPaymentPeriodicity:
      type: string
      description: |
        If there is coupon payment, describe the periodicity (monthly, quarterly, semi-annual, annual, irregular and others)
          1. Monthly

          2. Quarterly

          3. Semi-annual

          4. Annual

          5. Irregular

          6. Others

          [Restriction] Mandatory field to be filled in by participants when there is 'SIM' (Yes) in the coupon payment indicator field 'voucherPaymentIndicator'.
      enum:
        - MENSAL # MONTHLY
        - TRIMESTRAL # QUARTERLY
        - SEMESTRAL # SEMIANNUAL
        - ANUAL # ANNUAL
        - IRREGULAR # IRREGULAR
        - OUTROS # OTHERS
      example: MENSAL # MONTHLY
    ResponseErrorMetaSingle:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Endpoint specific error code
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              title:
                description: Human-readable title for this specific error
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              detail:
                description: Human-readable description of this specific error
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 2048
        meta:
          type: object
          description: Meta information regarding the requested API.
          required:
            - requestDateTime
          properties:
            requestDateTime:
              description: 'Date and time of consultation, according to RFC-3339 specification, UTC format.'
              type: string
              maxLength: 20
              format: date-time
              example: '2021-05-21T08:30:00Z'
    ResponseError:
      type: object
      required:
        - errors
      properties:
        errors:
          type: array
          minItems: 1
          maxItems: 13
          items:
            type: object
            required:
              - code
              - title
              - detail
            properties:
              code:
                description: Endpoint specific error code
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              title:
                description: Human-readable title for this specific error
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 255
              detail:
                description: Human-readable description of this specific error
                type: string
                pattern: '[\w\W\s]*'
                maxLength: 2048
        meta:
          type: object
          description: Meta information regarding the requested API.
          required:
            - totalRecords
            - totalPages
            - requestDateTime
          properties:
            totalRecords:
              type: integer
              format: int32
              description: Total number of records in the result
              example: 1
            totalPages:
              type: integer
              format: int32
              description: Total number of pages in the result
              example: 1
            requestDateTime:
              description: 'Date and time of consultation, according to RFC-3339 specification, UTC format.'
              type: string
              maxLength: 20
              format: date-time
              example: '2021-05-21T08:30:00Z'
    ConsentDataSharing:
      description: Data sharing consent
      type: object
      required:
        - brandId
        - creationDateTime
        - tpp
        - externalId
        - loggedUser
        - permissions
      properties:
        authExtraData:
          type: array
          description: |
            Key-value array with additional data from the authorizer. This
            data can be used as resource filters.
          items:
            type: object
            required:
              - key
              - value
            properties:
              key:
                type: string
                example: agencia
              value:
                type: string
                example: '0011'
        consentOwner:
          deprecated: true
          type: array
          description: |
            [Deprecated] Key-value array with identification data
            referring to the consent owner.
          items:
            type: object
            required:
              - key
              - value
            properties:
              key:
                type: string
                example: agencia
              value:
                type: string
                example: '0011'
        brandId:
          type: string
          description: Brand identifier reported by the Open Finance participant
          example: cbanco
          minLength: 1
          maxLength: 50
        creationDateTime:
          description: |
            Date and time when consent was created. A string with date and
            time according to RFC-3339 specification, always using
            UTC timezone (UTC time format).
          type: string
          pattern: |
            ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
          example: '2021-05-21T08:30:00Z'
          maxLength: 20
        tpp:
          type: object
          description: Details of the TPP (Third Party Provider) that requested consent
          additionalProperties: false
          required:
            - name
          properties:
            name:
              type: string
              description: Name of the TPP that requested consent
              example: GuiaBolsa
              maxLength: 100
        externalId:
          type: string
          description: Consent identifier used outside the Opus Open Finance platform
          example: urn:oob-bank:2f710909-4ccd-4998-8679-3d8de00e5ccf
          maxLength: 100
        loggedUser:
          type: object
          description: |
            User (natural person) who is logged in at the Data
            Transmitting Institution.
          additionalProperties: false
          required:
            - document
          properties:
            document:
              type: object
              description: Official identification document of the user.
              additionalProperties: false
              required:
                - identification
                - rel
              properties:
                identification:
                  type: string
                  maxLength: 11
                  description: Official identification document number of the user.
                  example: '11111111111'
                  pattern: ^\d{11}$
                rel:
                  type: string
                  maxLength: 3
                  description: Type of official identification document of the user.
                  example: CPF
                  pattern: ^[A-Z]{3}$
        businessDocumentType:
          type: object
          description: |
            User (legal entity) who is logged in at the Data
            Transmitting Institution.

            [Restriction] Mandatory to fill in if the user logged in at the Data
            Transmitting Institution is a CNPJ (legal entity).
          additionalProperties: false
          required:
            - document
          properties:
            document:
              type: object
              description: Official identification document of the legal entity holder.
              additionalProperties: false
              required:
                - identification
                - rel
              properties:
                identification:
                  type: string
                  maxLength: 14
                  description: |
                    Official identification document number of the legal entity
                    holder.
                  example: '11111111111111'
                  pattern: ^\d{14}$
                rel:
                  type: string
                  maxLength: 4
                  description: |
                    Type of official identification document of the legal entity
                    holder.
                  example: CNPJ
                  pattern: ^[A-Z]{4}$
        resources:
          description: |
            List of resources allowed by the customer
          type: array
          items:
            type: object
            description: Resources selected by the customer
            required:
              - type
              - resourceLegacyId
            properties:
              type:
                description: Resource type
                type: string
                enum:
                  - ACCOUNT
                  - CREDIT_CARD_ACCOUNT
                  - LOAN
                  - FINANCING
                  - UNARRANGED_ACCOUNT_OVERDRAFT
                  - INVOICE_FINANCING
                  - PAYMENT
                  - BANK_FIXED_INCOME
                  - CREDIT_FIXED_INCOME
                  - VARIABLE_INCOME
                  - TREASURE_TITLE  # TREASURY_BONDS
                  - FUND
                example: PAYMENT
              resourceLegacyId:
                $ref: '#/components/schemas/LegacyId'
              authorizers:
                deprecated: true
                description: |
                  [Deprecated] List of authorizers for the resource for cases of
                  multiple levels of approval. If the resource is selected, all
                  authorizers must accept the consent to which the resource belongs
                type: array
                items:
                  type: object
                  required:
                    - cpf
                    - name
                  properties:
                    cpf:
                      description: Authorizer's CPF
                      type: string
                      minLength: 11
                      maxLength: 11
                      pattern: ^\d{11}$
                      example: '11111111111'
                    name:
                      description: Authorizer's name
                      type: string
                      example: Marco Antonio de Brito
                minItems: 1
              hasMultipleAuthorisers:
                deprecated: true
                type: boolean
                example: 'false'
            additionalProperties: false
          maxItems: 1000
        expirationDateTime:
          description: |
            Permission expiration date and time. Mandatory to fill in,
            reflects the consent validity limit date. A string with
            date and time according to RFC-3339 specification, always using
            UTC timezone (UTC time format).
          type: string
          maxLength: 20
          pattern: |
            ^(\d{4})-(1[0-2]|0?[1-9])-(3[01]|[12][0-9]|0?[1-9])T(?:[01]\d|2[0123]):(?:[012345]\d):(?:[012345]\d)Z$
          example: '2021-05-21T08:30:00Z'
        permissions:
          type: array
          items:
            description: |
              Only for data sharing consents. Specifies
              the types of permissions to access APIs within the scope of Open Finance
              Brasil - Phase 2, according to the consent blocks provided
              by the user and necessary to access each API endpoint.
            type: string
            enum:
              - ACCOUNTS_READ
              - ACCOUNTS_BALANCES_READ
              - ACCOUNTS_TRANSACTIONS_READ
              - ACCOUNTS_OVERDRAFT_LIMITS_READ
              - CREDIT_CARDS_ACCOUNTS_READ
              - CREDIT_CARDS_ACCOUNTS_BILLS_READ
              - CREDIT_CARDS_ACCOUNTS_BILLS_TRANSACTIONS_READ
              - CREDIT_CARDS_ACCOUNTS_LIMITS_READ
              - CREDIT_CARDS_ACCOUNTS_TRANSACTIONS_READ
              - CUSTOMERS_PERSONAL_IDENTIFICATIONS_READ
              - CUSTOMERS_PERSONAL_ADITTIONALINFO_READ
              - CUSTOMERS_BUSINESS_IDENTIFICATIONS_READ
              - CUSTOMERS_BUSINESS_ADITTIONALINFO_READ
              - FINANCINGS_READ
              - FINANCINGS_SCHEDULED_INSTALMENTS_READ
              - FINANCINGS_PAYMENTS_READ
              - FINANCINGS_WARRANTIES_READ
              - INVOICE_FINANCINGS_READ
              - INVOICE_FINANCINGS_SCHEDULED_INSTALMENTS_READ
              - INVOICE_FINANCINGS_PAYMENTS_READ
              - INVOICE_FINANCINGS_WARRANTIES_READ
              - LOANS_READ
              - LOANS_SCHEDULED_INSTALMENTS_READ
              - LOANS_PAYMENTS_READ
              - LOANS_WARRANTIES_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_SCHEDULED_INSTALMENTS_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_PAYMENTS_READ
              - UNARRANGED_ACCOUNTS_OVERDRAFT_WARRANTIES_READ
              - BANK_FIXED_INCOMES_READ
              - CREDIT_FIXED_INCOMES_READ
              - FUNDS_READ
              - VARIABLE_INCOMES_READ
              - TREASURE_TITLES_READ  # TREASURY_BONDS_READ
              - EXCHANGES_READ
              - RESOURCES_READ
          minItems: 1
          maxItems: 30
          example: ACCOUNTS_READ
      additionalProperties: false
    RequestMeta:
      type: object
      description: Object containing data referring to the context in which the request was received.
      required:
        - correlationId
        - brandId
      properties:
        correlationId:
          type: string
          description: UUID that identifies the correlation ID of the request made. It must be propagated to all calls made between systems and logged whenever possible to facilitate error tracing
          pattern: >-
            ^(localID:)?[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$
          example: localID:97623ed1-4732-4bf2-8d4b-ae7aced5443b
        brandId:
          type: string
          description: Brand identifier reported by the Open Finance participant
          example: cbanco
          minLength: 1
          maxLength: 50
      additionalProperties: false
    RequestWithConsentAndRequestMetaAndPagination:
      type: object
      required:
        - consent
        - requestMeta
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        page:
          $ref: '#/components/schemas/Page'
        pageSize:
          $ref: '#/components/schemas/PageSize'
        pagination-key:
          $ref: '#/components/schemas/PaginationKey'
    RequestWithConsentAndRequestMetaAndInvestmentId:
      type: object
      required:
        - consent
        - requestMeta
        - investmentId
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        investmentId:
          $ref: '#/components/schemas/LegacyId'
    RequestWithConsentAndRequestMeta:
      type: object
      required:
        - consent
        - requestMeta
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
    RequestTransactions:
      type: object
      required:
        - consent
        - requestMeta
        - investmentId
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        investmentId:
          $ref: '#/components/schemas/LegacyId'
        page:
          $ref: '#/components/schemas/Page'
        pageSize:
          $ref: '#/components/schemas/PageSize'
        fromTransactionDate:
          $ref: '#/components/schemas/FromTransactionDate'
        toTransactionDate:
          $ref: '#/components/schemas/ToTransactionDate'
        pagination-key:
          $ref: '#/components/schemas/PaginationKey'
    RequestTransactionsCurrent:
      type: object
      required:
        - consent
        - requestMeta
        - investmentId
      properties:
        consent:
          $ref: '#/components/schemas/ConsentDataSharing'
        requestMeta:
          $ref: '#/components/schemas/RequestMeta'
        investmentId:
          $ref: '#/components/schemas/LegacyId'
        page:
          $ref: '#/components/schemas/Page'
        pageSize:
          $ref: '#/components/schemas/PageSize'
        fromTransactionDate:
          $ref: '#/components/schemas/FromTransactionDateMaxLimited'
        toTransactionDate:
          $ref: '#/components/schemas/ToTransactionDateMaxLimited'
        pagination-key:
          $ref: '#/components/schemas/PaginationKey'
    LegacyId:
      description: >-
        Key-value array with the resource identification key in the source
        (legacy) system, allowing composite keys
      type: array
      items:
        type: object
        required:
          - key
          - value
        properties:
          key:
            description: Name of the identifier field in the source system
            type: string
            example: internalResourceId
          value:
            description: Value of the identifier field in the source system
            type: string
            example: '1234'
        additionalProperties: false
      minItems: 1
      maxItems: 10
    FromTransactionDate:
      description: |
        Initial filtering date.

        [Restriction] Must be mandatorily sent if the toTransactionDate field is informed. If not informed, the current day must be assumed.
      type: string
      maxLength: 10
      format: date
      example: '2021-05-21'
    FromTransactionDateMaxLimited:
      description: |
        Initial filtering date. The maximum period used in the filter is 7 days inclusive (D-6).

        [Restriction] Must be mandatorily sent if the toTransactionDate field is informed. If not informed, the current day must be assumed.
      type: string
      maxLength: 10
      format: date
      example: '2021-05-21'
    ToTransactionDate:
      description: |
        Final filtering date.

        [Restriction] Must be mandatorily sent if the fromTransactionDate field is informed. If not informed, the current day must be assumed.
      type: string
      maxLength: 10
      format: date
      example: '2021-05-21'
    ToTransactionDateMaxLimited:
      description: |
        Final filtering date. The maximum period used in the filter is 7 days inclusive (D-6).

        [Restriction] Must be mandatorily sent if the fromTransactionDate field is informed. If not informed, the current day must be assumed.
      type: string
      maxLength: 10
      format: date
      example: '2021-05-21'
    PaginationKey:
      description: >-
        Re-call identifier, used to avoid counting calls
        to the endpoint during pagination.
      type: string
      maxLength: 2048
      pattern: '[\w\W\s]*'
    Page:
      description: Page number being requested (the value of the first page is 1).
      type: integer
      default: 1
      minimum: 1
      maximum: 2147483647
      format: int32
    PageSize:
      description: Total number of records per page.
      type: integer
      default: 25
      minimum: 1
      format: int32
      maximum: 1000
  responses:
    ResponseCreditFixedIncomesProductList:
      description: Data successfully obtained.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseCreditFixedIncomesProductList'
    ResponseCreditFixedIncomesProductIdentification:
      description: Data successfully obtained.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseCreditFixedIncomesProductIdentification'
    ResponseCreditFixedIncomesBalances:
      description: Data successfully obtained.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseCreditFixedIncomesBalances'
    ResponseCreditFixedIncomesTransactions:
      description: Data successfully obtained.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseCreditFixedIncomesTransactions'
    ResponseCreditFixedIncomesTransactionsCurrent:
      description: Data successfully obtained.
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ResponseCreditFixedIncomesTransactionsCurrent'
    BadRequest:
      description: 'The request was malformed, omitting mandatory attributes, either in the payload or through attributes in the URL.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Forbidden:
      description: The token has incorrect scope or a security policy has been violated
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    GatewayTimeout:
      description: GATEWAY TIMEOUT - The request was not answered within the established timeout
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    InternalServerError:
      description: An error occurred in the API gateway or microservice
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Locked:
      description: Locked
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    MethodNotAllowed:
      description: The consumer tried to access the resource with an unsupported method
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    NotAcceptable:
      description: The request contained an Accept header different from the allowed media types or a character set other than UTF-8
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    NotFound:
      description: The requested resource does not exist or has not been implemented
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    TooManyRequests:
      description: 'The operation was refused because too many requests were made within a certain period or the global limit of concurrent requests was reached'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Unauthorized:
      description: Missing/invalid authentication header or invalid token
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    UnprocessableEntity:
      description: 'The request syntax is correct, but it was not possible to process the instructions present.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    SiteIsOverloaded:
      description: 'The site is overloaded and the operation was refused because the global TPS maximum limit was reached at this time.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    Default:
      description: Unexpected error.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseErrorMetaSingle'
    BadRequestWithAdditionalProperties:
      description: 'The request was malformed, omitting mandatory attributes, either in the payload or through attributes in the URL.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    ForbiddenWithAdditionalProperties:
      description: The token has incorrect scope or a security policy has been violated
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    GatewayTimeoutWithAdditionalProperties:
      description: GATEWAY TIMEOUT - The request was not answered within the established timeout
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    InternalServerErrorWithAdditionalProperties:
      description: An error occurred in the API gateway or microservice
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    LockedWithAdditionalProperties:
      description: Locked
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    MethodNotAllowedWithAdditionalProperties:
      description: The consumer tried to access the resource with an unsupported method
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    NotAcceptableWithAdditionalProperties:
      description: The request contained an Accept header different from the allowed media types or a character set other than UTF-8
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    NotFoundWithAdditionalProperties:
      description: The requested resource does not exist or has not been implemented
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    TooManyRequestsWithAdditionalProperties:
      description: 'The operation was refused because too many requests were made within a certain period or the global limit of concurrent requests was reached'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    UnauthorizedWithAdditionalProperties:
      description: Missing/invalid authentication header or invalid token
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    UnprocessableEntityWithAdditionalProperties:
      description: 'The request syntax is correct, but it was not possible to process the instructions present.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    DefaultWithAdditionalProperties:
      description: Unexpected error.
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
    SiteIsOverloadedWithAdditionalProperties:
      description: 'The site is overloaded and the operation was refused because the global TPS maximum limit was reached at this time.'
      content:
        application/json; charset=utf-8:
          schema:
            $ref: '#/components/schemas/ResponseError'
